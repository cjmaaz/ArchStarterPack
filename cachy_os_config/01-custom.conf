# ---------------- TLP Custom Config (max performance on AC) -----------------
# MAX performance on AC
CPU_SCALING_GOVERNOR_ON_AC=performance
CPU_BOOST_ON_AC=1
CPU_ENERGY_PERF_POLICY_ON_AC=performance

# POWER SAVE on battery
CPU_SCALING_GOVERNOR_ON_BAT=schedutil
CPU_BOOST_ON_BAT=0
CPU_ENERGY_PERF_POLICY_ON_BAT=powersave

# Platform profile (supported on ASUS)
PLATFORM_PROFILE_ON_AC=performance
PLATFORM_PROFILE_ON_BAT=low-power

# Runtime power management: disable on AC for max performance
RUNTIME_PM_ON_AC=off
RUNTIME_PM_ON_BAT=auto

# Prevent Nvidia ASPM (keep PCIe link active on AC)
NVIDIA_ASPM=0

# USB autosuspend:
USB_AUTOSUSPEND=1
USB_AUTOSUSPEND_ON_AC=0
USB_AUTOSUSPEND_ON_BAT=1

# SATA link power management: max performance on AC
SATA_LINKPWR_ON_AC=max_performance
SATA_LINKPWR_ON_BAT=min_power

# WiFi power saving
WIFI_PWR_ON_AC=off
WIFI_PWR_ON_BAT=on

# Battery care (prevents wear)
START_CHARGE_THRESH_BAT0=60
STOP_CHARGE_THRESH_BAT0=80

# ---------------- Hardware-Specific Power Management Fixes -----------------
# NOTE: Update these values for your hardware by running diagnostics.sh:
#   1. For NVIDIA GPU PCI address: Look for "01:00.0" pattern in PCI devices section
#   2. For USB device IDs: Check "USB Devices (lsusb)" section for vendor:product IDs
#   3. Format: RUNTIME_PM_BLACKLIST uses "pci:0000:XX:YY.Z" notation
#   4. Format: USB_BLACKLIST uses "VENDOR_ID:PRODUCT_ID" space-separated list

# Prevent GPU PCI device from being runtime-suspended (NVIDIA GPU at PCI address 01:00.0)
# Run: sudo lspci -nn | grep -i vga  (or check diagnostics.sh output)
RUNTIME_PM_BLACKLIST="pci:0000:01:00.0"

# Prevent monitor USB hub(s) from being autosuspended (Genesys Logic hubs: 05e3:0610, 05e3:0625)
# Run: lsusb  (or check diagnostics.sh output for device IDs)
USB_BLACKLIST="05e3:0610 05e3:0625"
